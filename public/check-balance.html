<!DOCTYPE html>

<html>
  <head>
    <title>Check Balance</title>
    <link rel="stylesheet" href="css/check-balance.css">
    <script>
        async function checkBalance() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const response = await fetch('/check-balance', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ username, password })
            });

            const result = await response.json();
            if (response.ok) {
                document.getElementById('balance').innerText = `Your balance is: $${result.balance}`;
            } else {
                document.getElementById('balance').innerText = result.message;
            }
        }
    </script>
  </head>

  <body>
    <h1 class="welcome-message">
      Welcome to Banking Management System!
    </h1>
    <section>
      <div class="wave">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div>
        <div class="card1">
          <div class="intro-text">
            <h1 class="intro-text">Check Balance:</h1>
          </div>
          <span class="username"><h2>Enter Fullname:</h2></span>
            <span class="input-username">
              <input type="text" id="username" name="username" placeholder="Enter your username">
            </span>
          </span>
          <span class="password"><h2>Enter Password:</h2></span>
            <span class="input-password">
              <input type="password" id="password" name="password" placeholder="Enter your password">
            </span>
          <div>
            <button type="button" class="check-button" onclick="checkBalance()">Check balance</button>
          </div>
          <div id="balance"></div>
        </div>
      </div>
    </section>
  </body>

</html>