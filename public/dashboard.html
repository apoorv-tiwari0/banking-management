<!DOCTYPE html>

<html>
  <head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
  </head>
  <body>
    <h1 class="welcome-message">
      Welcome to Banking Management System!
    </h1>
    <section>
      <div class="wave">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="card1">
        <div class="intro-text">
          <h1 class="intro-text">Hello <span id="username-display"></span>,</h1>
        </div>
        <div>
          <button type="send" class="send" onclick="location.href='send_money_page.html';">Send Money</button>
        </div>
        <div>
          <button type="check" class="check-button" onclick="location.href='check-balance.html';">Check balance</button>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        fetch('/get-username')
          .then(response => response.json())
          .then(data => {
            if (data.username) {
              document.getElementById('username-display').innerText = data.username;
            } else {
              document.getElementById('username-display').innerText = 'Guest';
            }
          })
          .catch(error => {
            console.error('Error fetching username:', error);
            document.getElementById('username-display').innerText = 'Guest';
          });
      });
    </script>
  </body>
</html>